# frozen_string_literal: true

require_relative 'comprehensive_scan'

# This class will contain a single files code from the website passed in the file structure class
class SourceCode < ComprehensiveScan
  def initialize(name, data)
    @name = name
    puts "#{@name} has been initialized"
    @data = data
    check_for_comments
  end

  def check_for_comments
    html_comments = @data.scan(/<!--.*?-->/m)

    if html_comments.empty?
      puts "No comments found in #{@name}\n\n".colorize(:red)
    else
      puts "Comments found in #{@name}:".colorize(:yellow)
      html_comments.each { |comment| puts comment }
    end
    puts "\n\n"
  end
end
